# Database Seeding Guide

This document explains how to populate your MongoDB database with sample data.

## Prerequisites

Make sure MongoDB is running:

**Local MongoDB:**
```bash
mongod
```

**MongoDB Atlas:**
Update the connection string in `src/app.module.ts` with your Atlas URI.

## Running the Seed Script

The seed script will:
1. Clear existing data from all collections
2. Create 10 sample movies
3. Create 5 sample TV shows with episodes
4. Create 5 sample users with watch history and preferences

### Execute the seed:

```bash
npm run seed
```

## Sample Data Overview

### Movies (10 total)
- **Action/SciFi:** The Matrix, Inception, The Dark Knight, Interstellar
- **Drama:** The Shawshank Redemption, Pulp Fiction, La La Land
- **Horror:** The Conjuring
- **Comedy:** Superbad
- **Fantasy:** The Lord of the Rings: The Fellowship of the Ring

### TV Shows (5 total)
- Breaking Bad (Drama)
- Stranger Things (SciFi/Horror/Drama)
- The Office (Comedy)
- Game of Thrones (Fantasy/Drama/Action)
- The Haunting of Hill House (Horror/Drama)

### Users (5 total)
Each user has:
- Username
- Genre preferences (favorites and dislikes)
- Watch history with ratings

**Sample users:**
1. `john_doe` - Loves Action & SciFi, dislikes Horror
2. `jane_smith` - Loves Drama & Romance, dislikes Horror & SciFi
3. `mike_horror_fan` - Loves Horror & SciFi, dislikes Romance
4. `comedy_lover` - Loves Comedy, dislikes Horror & Drama
5. `fantasy_explorer` - Loves Fantasy & Action

## Customizing Seed Data

To modify the seed data:

1. Edit `src/seeds/seed.ts`
2. Add/modify movies, TV shows, or users in the respective sections
3. Run `npm run seed` again

## Verifying the Seed

You can verify the data was created by:

### Using MongoDB Compass:
1. Connect to `mongodb://localhost:27017`
2. Navigate to the `my-list-feature` database
3. Browse the `users`, `movies`, and `tvshows` collections

### Using MongoDB Shell:
```bash
mongosh
use my-list-feature
db.users.countDocuments()      # Should return 5
db.movies.countDocuments()     # Should return 10
db.tvshows.countDocuments()    # Should return 5
```

### Using the API:
Once your server is running (`npm run start:dev`), you can query the data through your endpoints.

## Notes

- The seed script uses `deleteMany({})` to clear existing data before seeding
- All IDs are automatically generated by MongoDB
- Watch history references actual movie/TV show IDs created during seeding
- Timestamps (createdAt/updatedAt) are automatically added by Mongoose
